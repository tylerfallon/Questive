[{"type":"js","data":"(function () {\n\n/* Imports */\nvar Meteor = Package.meteor.Meteor;\nvar global = Package.meteor.global;\nvar meteorEnv = Package.meteor.meteorEnv;\nvar ECMAScript = Package.ecmascript.ECMAScript;\nvar React = Package['react-runtime'].React;\nvar ReactDOM = Package['react-runtime'].ReactDOM;\nvar ReactDOMServer = Package['react-runtime'].ReactDOMServer;\nvar ReactMeteorData = Package['react-meteor-data'].ReactMeteorData;\nvar meteorInstall = Package.modules.meteorInstall;\nvar Buffer = Package.modules.Buffer;\nvar process = Package.modules.process;\nvar Symbol = Package['ecmascript-runtime'].Symbol;\nvar Map = Package['ecmascript-runtime'].Map;\nvar Set = Package['ecmascript-runtime'].Set;\nvar meteorBabelHelpers = Package['babel-runtime'].meteorBabelHelpers;\nvar Promise = Package.promise.Promise;\n\n/* Package-scope variables */\nvar ReactLayout;\n\nvar require = meteorInstall({\"node_modules\":{\"meteor\":{\"kadira:react-layout\":{\"lib\":{\"react_layout.js\":function(){\n\n///////////////////////////////////////////////////////////////////////\n//                                                                   //\n// packages/kadira_react-layout/lib/react_layout.js                  //\n//                                                                   //\n///////////////////////////////////////////////////////////////////////\n                                                                     //\nReactLayout = {};                                                    // 1\nReactLayout._domLoaded = false;                                      // 2\nReactLayout._rootProps = {};                                         // 3\nReactLayout._readyCallbacks = [];                                    // 4\n                                                                     //\nReactLayout.setRootProps = function (rootProps) {                    // 6\n  this._rootProps = rootProps;                                       // 7\n};                                                                   // 8\n                                                                     //\nReactLayout._buildRootNode = function () {                           // 10\n  var props = this._rootProps || {};                                 // 11\n  props.id = 'react-root';                                           // 12\n  if (props.className) {                                             // 13\n    props['class'] = props.className;                                // 14\n    delete props.className;                                          // 15\n  }                                                                  // 16\n                                                                     //\n  var propsString = '';                                              // 18\n  for (var key in props) {                                           // 19\n    var value = props[key];                                          // 20\n    propsString += key + '=\"' + value + '\" ';                        // 21\n  }                                                                  // 22\n                                                                     //\n  var html = '<div ' + propsString + '></div>';                      // 24\n  return html;                                                       // 25\n};                                                                   // 26\n                                                                     //\nReactLayout._getRootNode = function () {                             // 28\n  var rootNode = document.getElementById('react-root');              // 29\n                                                                     //\n  if (rootNode) {                                                    // 31\n    return rootNode;                                                 // 32\n  } else {                                                           // 33\n    var rootNodeHtml = this._buildRootNode();                        // 34\n    var body = document.getElementsByTagName('body')[0];             // 35\n    body.insertAdjacentHTML('beforeend', rootNodeHtml);              // 36\n    rootNode = document.getElementById('react-root');                // 37\n    return rootNode;                                                 // 38\n  }                                                                  // 39\n};                                                                   // 40\n                                                                     //\nReactLayout.render = function (layoutClass, regions) {               // 42\n  if (Meteor.isClient) {                                             // 43\n    return this._renderClient(layoutClass, regions);                 // 44\n  } else {                                                           // 45\n    return this._renderServer(layoutClass, regions);                 // 46\n  }                                                                  // 47\n};                                                                   // 48\n                                                                     //\nReactLayout._renderServer = function (layoutClass, regions) {        // 50\n  var el = React.createElement(layoutClass, regions);                // 51\n  var elHtml = ReactDOMServer.renderToString(el);                    // 52\n                                                                     //\n  var rootNodeHtml = this._buildRootNode();                          // 54\n  var html = rootNodeHtml.replace('</div>', elHtml + '</div>');      // 55\n                                                                     //\n  if (Package['kadira:flow-router-ssr']) {                           // 57\n    var FlowRouter = Package['kadira:flow-router-ssr'].FlowRouter;   // 58\n    var ssrContext = FlowRouter.ssrContext.get();                    // 59\n    ssrContext.setHtml(html);                                        // 60\n  }                                                                  // 61\n};                                                                   // 62\n                                                                     //\nReactLayout._renderClient = function (layoutClass, regions) {        // 64\n  var self = this;                                                   // 65\n  this._ready(function () {                                          // 66\n    var rootNode = self._getRootNode();                              // 67\n    var el = React.createElement(layoutClass, regions);              // 68\n    ReactDOM.render(el, rootNode);                                   // 69\n  });                                                                // 70\n};                                                                   // 71\n                                                                     //\nReactLayout._ready = function (cb) {                                 // 73\n  var self = this;                                                   // 74\n  if (self._domLoaded) {                                             // 75\n    cb();                                                            // 76\n  } else {                                                           // 77\n    self._readyCallbacks.push(cb);                                   // 78\n  }                                                                  // 79\n};                                                                   // 80\n                                                                     //\n// wait for DOM is loading                                           //\nMeteor.startup(function () {                                         // 83\n  setTimeout(function () {                                           // 84\n    ReactLayout._domLoaded = true;                                   // 85\n    ReactLayout._readyCallbacks.forEach(function (fn) {              // 86\n      fn();                                                          // 87\n    });                                                              // 88\n  }, 10);                                                            // 89\n});                                                                  // 90\n///////////////////////////////////////////////////////////////////////\n\n}}}}}},{\"extensions\":[\".js\",\".json\"]});\nrequire(\"./node_modules/meteor/kadira:react-layout/lib/react_layout.js\");\n\n/* Exports */\nif (typeof Package === 'undefined') Package = {};\n(function (pkg, symbols) {\n  for (var s in symbols)\n    (s in pkg) || (pkg[s] = symbols[s]);\n})(Package['kadira:react-layout'] = {}, {\n  ReactLayout: ReactLayout\n});\n\n})();\n","servePath":"/packages/kadira_react-layout.js","sourceMap":{"version":3,"sources":["/packages/kadira:react-layout/lib/react_layout.js"],"names":[],"mappings":"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","file":"/packages/kadira_react-layout.js","sourcesContent":["ReactLayout = {};\nReactLayout._domLoaded = false;\nReactLayout._rootProps = {};\nReactLayout._readyCallbacks = [];\n\nReactLayout.setRootProps = function(rootProps) {\n  this._rootProps = rootProps;\n};\n\nReactLayout._buildRootNode = function() {\n  var props = this._rootProps || {};\n  props.id = 'react-root';\n  if(props.className) {\n    props.class = props.className;\n    delete props.className;\n  }\n\n  var propsString = '';\n  for(var key in props) {\n    var value = props[key];\n    propsString += key + '=\"' + value + '\" ';\n  }\n\n  var html = '<div ' + propsString + '></div>';\n  return html;\n};\n\nReactLayout._getRootNode = function() {\n  var rootNode = document.getElementById('react-root');\n\n  if(rootNode) {\n    return rootNode;\n  } else {\n    var rootNodeHtml = this._buildRootNode();\n    var body = document.getElementsByTagName('body')[0];\n    body.insertAdjacentHTML('beforeend', rootNodeHtml);\n    rootNode = document.getElementById('react-root');\n    return rootNode;\n  }\n};\n\nReactLayout.render = function(layoutClass, regions) {\n  if(Meteor.isClient) {\n    return this._renderClient(layoutClass, regions);\n  } else {\n    return this._renderServer(layoutClass, regions);\n  }\n};\n\nReactLayout._renderServer = function(layoutClass, regions) {\n  var el = React.createElement(layoutClass, regions);\n  var elHtml = ReactDOMServer.renderToString(el);\n\n  var rootNodeHtml = this._buildRootNode();\n  var html = rootNodeHtml.replace('</div>', elHtml + '</div>');\n\n  if(Package['kadira:flow-router-ssr']) {\n    var FlowRouter = Package['kadira:flow-router-ssr'].FlowRouter;\n    var ssrContext = FlowRouter.ssrContext.get();\n    ssrContext.setHtml(html);\n  }\n};\n\nReactLayout._renderClient = function(layoutClass, regions) {\n  var self = this;\n  this._ready(function() {\n    var rootNode = self._getRootNode();\n    var el = React.createElement(layoutClass, regions);\n    ReactDOM.render(el, rootNode);\n  });\n};\n\nReactLayout._ready = function(cb) {\n  var self = this;\n  if(self._domLoaded) {\n    cb();\n  } else {\n    self._readyCallbacks.push(cb);\n  }\n};\n\n// wait for DOM is loading\nMeteor.startup(function() {\n  setTimeout(function() {\n    ReactLayout._domLoaded = true;\n    ReactLayout._readyCallbacks.forEach(function(fn) {\n      fn();\n    });\n  }, 10);\n});\n"]}}]