{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"lodash","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"_"}]},{"source":"../../core/utils/throw_parse_error.js","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"throwParseError"}]},{"source":"../utils/parse_validators.js","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"parseValidators"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/packages/jagi:astronomy/lib/modules/validators/hooks/parse_definition.js","filenameRelative":"/packages/jagi:astronomy/lib/modules/validators/hooks/parse_definition.js","env":{},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":false,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/packages/jagi:astronomy/lib/modules/validators/hooks/parse_definition.js.map","sourceFileName":"/packages/jagi:astronomy/lib/modules/validators/hooks/parse_definition.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"basename":"parse_definition"},"ignored":false,"code":"var _;module.import('lodash',{\"default\":function(v){_=v}});var throwParseError;module.import('../../core/utils/throw_parse_error.js',{\"default\":function(v){throwParseError=v}});var parseValidators;module.import('../utils/parse_validators.js',{\"default\":function(v){parseValidators=v}});\n\n\n\nfunction onParseDefinition(parsedDefinition, definition, className) {\n\tif (definition.resolveError) {\n\t\tif (!Match.test(definition.resolveError, Function)) {\n\t\t\tthrowParseError([{\n\t\t\t\t'class': className\n\t\t\t}, {\n\t\t\t\t'property': 'resolveError'\n\t\t\t}, 'Property values has to be a function']);\n\t\t}\n\n\t\tparsedDefinition.resolveError = definition.resolveError;\n\t}\n\n\tif (definition.fields) {\n\t\t_.each(definition.fields, function (fieldDefinition, fieldName) {\n\t\t\tif (_.has(fieldDefinition, 'validators')) {\n\t\t\t\tparseValidators(fieldDefinition.validators, [{\n\t\t\t\t\t'class': className\n\t\t\t\t}, {\n\t\t\t\t\t'property': 'fields'\n\t\t\t\t}, {\n\t\t\t\t\t'field': fieldName\n\t\t\t\t}, {\n\t\t\t\t\t'property': 'validators'\n\t\t\t\t}]);\n\n\t\t\t\tparsedDefinition.validators[fieldName] = fieldDefinition.validators;\n\t\t\t\tfieldDefinition.validators = undefined;\n\t\t\t}\n\t\t});\n\t}\n\n\tif (definition.validators) {\n\t\t_.each(definition.validators, function (validators, fieldName) {\n\t\t\tparseValidators(validators, [{\n\t\t\t\t'class': className\n\t\t\t}, {\n\t\t\t\t'property': 'validators'\n\t\t\t}]);\n\n\t\t\tparsedDefinition.validators[fieldName] = validators;\n\t\t});\n\t}\n};\n\nmodule.export(\"default\",exports.default=(onParseDefinition));","ast":null,"map":{"version":3,"sources":["/packages/jagi:astronomy/lib/modules/validators/hooks/parse_definition.js"],"names":[],"mappings":"AAAA,OAAO,CAAP,MAAc,QAAd;AACA,OAAO,eAAP,MAA4B,uCAA5B;AACA,OAAO,eAAP,MAA4B,8BAA5B;;AAEA,SAAS,iBAAT,CAA2B,gBAA3B,EAA6C,UAA7C,EAAyD,SAAzD,EAAoE;AACnE,KAAI,WAAW,YAAf,EAA6B;AAC5B,MAAI,CAAC,MAAM,IAAN,CAAW,WAAW,YAAtB,EAAoC,QAApC,CAAL,EAAoD;AACnD,mBAAgB,CAAC;AACf,aAAS;AADM,IAAD,EAEZ;AACF,gBAAY;AADV,IAFY,EAKf,sCALe,CAAhB;AAOA;;AAED,mBAAiB,YAAjB,GAAgC,WAAW,YAA3C;AACA;;AAED,KAAI,WAAW,MAAf,EAAuB;AACtB,IAAE,IAAF,CAAO,WAAW,MAAlB,EAA0B,UAAS,eAAT,EAA0B,SAA1B,EAAqC;AAC9D,OAAI,EAAE,GAAF,CAAM,eAAN,EAAuB,YAAvB,CAAJ,EAA0C;AACzC,oBACC,gBAAgB,UADjB,EAC6B,CAAC;AAC5B,cAAS;AADmB,KAAD,EAEzB;AACF,iBAAY;AADV,KAFyB,EAIzB;AACF,cAAS;AADP,KAJyB,EAMzB;AACF,iBAAY;AADV,KANyB,CAD7B;;AAYA,qBAAiB,UAAjB,CAA4B,SAA5B,IAAyC,gBAAgB,UAAzD;AACA,oBAAgB,UAAhB,GAA6B,SAA7B;AACA;AACD,GAjBD;AAkBA;;AAED,KAAI,WAAW,UAAf,EAA2B;AAC1B,IAAE,IAAF,CAAO,WAAW,UAAlB,EAA8B,UAAS,UAAT,EAAqB,SAArB,EAAgC;AAC7D,mBACC,UADD,EACa,CAAC;AACZ,aAAS;AADG,IAAD,EAET;AACF,gBAAY;AADV,IAFS,CADb;;AAQA,oBAAiB,UAAjB,CAA4B,SAA5B,IAAyC,UAAzC;AACA,GAVD;AAWA;AACD;;AAED,eAAe,iBAAf","file":"/packages/jagi:astronomy/lib/modules/validators/hooks/parse_definition.js.map","sourcesContent":["import _ from 'lodash';\nimport throwParseError from '../../core/utils/throw_parse_error.js';\nimport parseValidators from '../utils/parse_validators.js';\n\nfunction onParseDefinition(parsedDefinition, definition, className) {\n\tif (definition.resolveError) {\n\t\tif (!Match.test(definition.resolveError, Function)) {\n\t\t\tthrowParseError([{\n\t\t\t\t\t'class': className\n\t\t\t\t}, {\n\t\t\t\t\t'property': 'resolveError'\n\t\t\t\t},\n\t\t\t\t'Property values has to be a function'\n\t\t\t]);\n\t\t}\n\n\t\tparsedDefinition.resolveError = definition.resolveError;\n\t}\n\n\tif (definition.fields) {\n\t\t_.each(definition.fields, function(fieldDefinition, fieldName) {\n\t\t\tif (_.has(fieldDefinition, 'validators')) {\n\t\t\t\tparseValidators(\n\t\t\t\t\tfieldDefinition.validators, [{\n\t\t\t\t\t\t'class': className\n\t\t\t\t\t}, {\n\t\t\t\t\t\t'property': 'fields'\n\t\t\t\t\t}, {\n\t\t\t\t\t\t'field': fieldName\n\t\t\t\t\t}, {\n\t\t\t\t\t\t'property': 'validators'\n\t\t\t\t\t}]\n\t\t\t\t);\n\n\t\t\t\tparsedDefinition.validators[fieldName] = fieldDefinition.validators;\n\t\t\t\tfieldDefinition.validators = undefined;\n\t\t\t}\n\t\t});\n\t}\n\n\tif (definition.validators) {\n\t\t_.each(definition.validators, function(validators, fieldName) {\n\t\t\tparseValidators(\n\t\t\t\tvalidators, [{\n\t\t\t\t\t'class': className\n\t\t\t\t}, {\n\t\t\t\t\t'property': 'validators'\n\t\t\t\t}]\n\t\t\t);\n\n\t\t\tparsedDefinition.validators[fieldName] = validators;\n\t\t});\n\t}\n};\n\nexport default onParseDefinition;"]},"hash":"a6aeb7cdb980ae77a02a13d84c7df10b7672b705"}
