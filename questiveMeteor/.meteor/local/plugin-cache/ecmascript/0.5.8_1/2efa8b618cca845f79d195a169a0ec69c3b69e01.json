{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"lodash","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"_"}]},{"source":"../../fields/utils/cast_nested.js","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"castNested"}]},{"source":"../../fields/utils/set_all.js","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"setAll"}]},{"source":"meteor/minimongo","imported":["LocalCollection"],"specifiers":[{"kind":"named","imported":"LocalCollection","local":"LocalCollection"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/packages/jagi:astronomy/lib/modules/storage/utils/apply_modifier.js","filenameRelative":"/packages/jagi:astronomy/lib/modules/storage/utils/apply_modifier.js","env":{},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":false,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/packages/jagi:astronomy/lib/modules/storage/utils/apply_modifier.js.map","sourceFileName":"/packages/jagi:astronomy/lib/modules/storage/utils/apply_modifier.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"basename":"apply_modifier"},"ignored":false,"code":"var _;module.import('lodash',{\"default\":function(v){_=v}});var castNested;module.import('../../fields/utils/cast_nested.js',{\"default\":function(v){castNested=v}});var setAll;module.import('../../fields/utils/set_all.js',{\"default\":function(v){setAll=v}});var LocalCollection;module.import('meteor/minimongo',{\"LocalCollection\":function(v){LocalCollection=v}});\n\n\n\n\nfunction applyModifier(_ref) {\n  var doc = _ref.doc;\n  var modifier = _ref.modifier;\n  var options = _ref.options;\n\n  // Apply modifier only if provided.\n  if (modifier && _.size(modifier) > 0) {\n    // Get raw object because the \"_modify\" method can only work with plain\n    // objects.\n    var rawDoc = doc.raw();\n    // Use Minimongo's the \"_modify\" method to apply modifier.\n    LocalCollection._modify(rawDoc, modifier, options);\n    // Set all values back again on a document.\n    setAll(doc, rawDoc);\n  }\n};\n\nmodule.export(\"default\",exports.default=(applyModifier));","ast":null,"map":{"version":3,"sources":["/packages/jagi:astronomy/lib/modules/storage/utils/apply_modifier.js"],"names":[],"mappings":"AAAA,OAAO,CAAP,MAAc,QAAd;AACA,OAAO,UAAP,MAAuB,mCAAvB;AACA,OAAO,MAAP,MAAmB,+BAAnB;AACA,SAAS,eAAT,QAAgC,kBAAhC;;AAEA,SAAS,aAAT,OAIG;AAAA,MAHD,GAGC,QAHD,GAGC;AAAA,MAFD,QAEC,QAFD,QAEC;AAAA,MADD,OACC,QADD,OACC;;;AAED,MAAI,YAAY,EAAE,IAAF,CAAO,QAAP,IAAmB,CAAnC,EAAsC;;;AAGpC,QAAM,SAAS,IAAI,GAAJ,EAAf;;AAEA,oBAAgB,OAAhB,CAAwB,MAAxB,EAAgC,QAAhC,EAA0C,OAA1C;;AAEA,WAAO,GAAP,EAAY,MAAZ;AACD;AACF;;AAED,eAAe,aAAf","file":"/packages/jagi:astronomy/lib/modules/storage/utils/apply_modifier.js.map","sourcesContent":["import _ from 'lodash';\nimport castNested from '../../fields/utils/cast_nested.js';\nimport setAll from '../../fields/utils/set_all.js';\nimport { LocalCollection } from 'meteor/minimongo';\n\nfunction applyModifier({\n  doc,\n  modifier,\n  options\n}) {\n  // Apply modifier only if provided.\n  if (modifier && _.size(modifier) > 0) {\n    // Get raw object because the \"_modify\" method can only work with plain\n    // objects.\n    const rawDoc = doc.raw();\n    // Use Minimongo's the \"_modify\" method to apply modifier.\n    LocalCollection._modify(rawDoc, modifier, options);\n    // Set all values back again on a document.\n    setAll(doc, rawDoc);\n  }\n};\n\nexport default applyModifier;"]},"hash":"2efa8b618cca845f79d195a169a0ec69c3b69e01"}
