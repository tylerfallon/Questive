{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"lodash","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"_"}]},{"source":"../utils/traverse.js","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"traverse"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/packages/jagi:astronomy/lib/modules/fields/utils/get_one.js","filenameRelative":"/packages/jagi:astronomy/lib/modules/fields/utils/get_one.js","env":{},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":false,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/packages/jagi:astronomy/lib/modules/fields/utils/get_one.js.map","sourceFileName":"/packages/jagi:astronomy/lib/modules/fields/utils/get_one.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"basename":"get_one"},"ignored":false,"code":"var _;module.import('lodash',{\"default\":function(v){_=v}});var traverse;module.import('../utils/traverse.js',{\"default\":function(v){traverse=v}});\n\n\nfunction getOne(doc, fieldPattern, options) {\n\t// Prepare options.\n\toptions = _.extend({\n\t\ttransient: true,\n\t\timmutable: true\n\t}, options);\n\n\treturn traverse(doc, fieldPattern, function (nestedDoc, nestedFieldName, field) {\n\t\t// If a field does not exist than we don't return anything.\n\t\tif (!field) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Don't get a transient field.\n\t\tif (!options.transient && field.transient) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Don't get an immutable field.\n\t\tif (!options.immutable && field.immutable) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Just return a value.\n\t\treturn nestedDoc[nestedFieldName];\n\t});\n};\n\nmodule.export(\"default\",exports.default=(getOne));","ast":null,"map":{"version":3,"sources":["/packages/jagi:astronomy/lib/modules/fields/utils/get_one.js"],"names":[],"mappings":"AAAA,OAAO,CAAP,MAAc,QAAd;AACA,OAAO,QAAP,MAAqB,sBAArB;;AAEA,SAAS,MAAT,CAAgB,GAAhB,EAAqB,YAArB,EAAmC,OAAnC,EAA4C;;AAE3C,WAAU,EAAE,MAAF,CAAS;AAClB,aAAW,IADO;AAElB,aAAW;AAFO,EAAT,EAGP,OAHO,CAAV;;AAKA,QAAO,SACN,GADM,EACD,YADC,EAEN,UAAS,SAAT,EAAoB,eAApB,EAAqC,KAArC,EAA4C;;AAE3C,MAAI,CAAC,KAAL,EAAY;AACX;AACA;;;AAGD,MAAI,CAAC,QAAQ,SAAT,IAAsB,MAAM,SAAhC,EAA2C;AAC1C;AACA;;;AAGD,MAAI,CAAC,QAAQ,SAAT,IAAsB,MAAM,SAAhC,EAA2C;AAC1C;AACA;;;AAGD,SAAO,UAAU,eAAV,CAAP;AACA,EApBK,CAAP;AAsBA;;AAED,eAAe,MAAf","file":"/packages/jagi:astronomy/lib/modules/fields/utils/get_one.js.map","sourcesContent":["import _ from 'lodash';\nimport traverse from '../utils/traverse.js';\n\nfunction getOne(doc, fieldPattern, options) {\n\t// Prepare options.\n\toptions = _.extend({\n\t\ttransient: true,\n\t\timmutable: true\n\t}, options);\n\n\treturn traverse(\n\t\tdoc, fieldPattern,\n\t\tfunction(nestedDoc, nestedFieldName, field) {\n\t\t\t// If a field does not exist than we don't return anything.\n\t\t\tif (!field) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Don't get a transient field.\n\t\t\tif (!options.transient && field.transient) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Don't get an immutable field.\n\t\t\tif (!options.immutable && field.immutable) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Just return a value.\n\t\t\treturn nestedDoc[nestedFieldName];\n\t\t}\n\t);\n};\n\nexport default getOne;"]},"hash":"6737b0e569a50032a834b502a88e4cd18f218445"}
