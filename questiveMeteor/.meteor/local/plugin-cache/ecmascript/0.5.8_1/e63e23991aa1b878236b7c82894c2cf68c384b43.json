{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"meteor/jagi:astronomy","imported":["Class"],"specifiers":[{"kind":"named","imported":"Class","local":"Class"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/packages/jagi:astronomy/test/modules/storage/document_update.js","filenameRelative":"/packages/jagi:astronomy/test/modules/storage/document_update.js","env":{},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":false,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/packages/jagi:astronomy/test/modules/storage/document_update.js.map","sourceFileName":"/packages/jagi:astronomy/test/modules/storage/document_update.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"basename":"document_update"},"ignored":false,"code":"var Class;module.import('meteor/jagi:astronomy',{\"Class\":function(v){Class=v}});\n\nTinytest.add('Modules - Storage - Document update', function (test) {\n  var Storage = Class.get('Storage');\n\n  var id = '6tMS79Kx6WhqTEwaC';\n  var storage = Storage.findOne(id);\n\n  // Update a document.\n  storage.one.string = 'cba';\n  storage.one.transient = 'transient';\n  storage.one.immutable = 'IMMUTABLE';\n  storage.many[0].string = 'cba';\n  storage.many[0].transient = 'transient';\n  storage.many[0].immutable = 'IMMUTABLE';\n  storage.numbers = [3, 2, 1];\n  storage.string = 'cba';\n  storage.number = 321;\n  storage.boolean = false;\n  storage.date = new Date(2001, 0, 1, 0, 0, 0, 0);\n  storage.transient = 'transient';\n  storage.immutable = 'IMMUTABLE';\n  storage.save();\n\n  var expected = {\n    '_id': id,\n    'one': {\n      'string': 'cba',\n      'immutable': 'immutable'\n    },\n    'many': [{\n      'string': 'cba',\n      'immutable': 'immutable'\n    }],\n    'numbers': [3, 2, 1],\n    'string': 'cba',\n    'number': 321,\n    'boolean': false,\n    'date': new Date(2001, 0, 1, 0, 0, 0, 0),\n    'immutable': 'immutable'\n  };\n  test.equal(Storage.findOne(id, {\n    transform: null\n  }), expected, 'The document has not been updated properly');\n});","ast":null,"map":{"version":3,"sources":["/packages/jagi:astronomy/test/modules/storage/document_update.js"],"names":[],"mappings":"AAAA,SAAS,KAAT,QAAsB,uBAAtB;;AAEA,SAAS,GAAT,CAAa,qCAAb,EAAoD,UAAS,IAAT,EAAe;AACjE,MAAM,UAAU,MAAM,GAAN,CAAU,SAAV,CAAhB;;AAEA,MAAM,KAAK,mBAAX;AACA,MAAM,UAAU,QAAQ,OAAR,CAAgB,EAAhB,CAAhB;;;AAGA,UAAQ,GAAR,CAAY,MAAZ,GAAqB,KAArB;AACA,UAAQ,GAAR,CAAY,SAAZ,GAAwB,WAAxB;AACA,UAAQ,GAAR,CAAY,SAAZ,GAAwB,WAAxB;AACA,UAAQ,IAAR,CAAa,CAAb,EAAgB,MAAhB,GAAyB,KAAzB;AACA,UAAQ,IAAR,CAAa,CAAb,EAAgB,SAAhB,GAA4B,WAA5B;AACA,UAAQ,IAAR,CAAa,CAAb,EAAgB,SAAhB,GAA4B,WAA5B;AACA,UAAQ,OAAR,GAAkB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAAlB;AACA,UAAQ,MAAR,GAAiB,KAAjB;AACA,UAAQ,MAAR,GAAiB,GAAjB;AACA,UAAQ,OAAR,GAAkB,KAAlB;AACA,UAAQ,IAAR,GAAe,IAAI,IAAJ,CAAS,IAAT,EAAe,CAAf,EAAkB,CAAlB,EAAqB,CAArB,EAAwB,CAAxB,EAA2B,CAA3B,EAA8B,CAA9B,CAAf;AACA,UAAQ,SAAR,GAAoB,WAApB;AACA,UAAQ,SAAR,GAAoB,WAApB;AACA,UAAQ,IAAR;;AAEA,MAAM,WAAW;AACf,WAAO,EADQ;AAEf,WAAO;AACL,gBAAU,KADL;AAEL,mBAAa;AAFR,KAFQ;AAMf,YAAQ,CAAC;AACP,gBAAU,KADH;AAEP,mBAAa;AAFN,KAAD,CANO;AAUf,eAAW,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAVI;AAWf,cAAU,KAXK;AAYf,cAAU,GAZK;AAaf,eAAW,KAbI;AAcf,YAAQ,IAAI,IAAJ,CAAS,IAAT,EAAe,CAAf,EAAkB,CAAlB,EAAqB,CAArB,EAAwB,CAAxB,EAA2B,CAA3B,EAA8B,CAA9B,CAdO;AAef,iBAAa;AAfE,GAAjB;AAiBA,OAAK,KAAL,CAAW,QAAQ,OAAR,CAAgB,EAAhB,EAAoB;AAC7B,eAAW;AADkB,GAApB,CAAX,EAEI,QAFJ,EAGE,4CAHF;AAKD,CA5CD","file":"/packages/jagi:astronomy/test/modules/storage/document_update.js.map","sourcesContent":["import { Class } from 'meteor/jagi:astronomy';\n\nTinytest.add('Modules - Storage - Document update', function(test) {\n  const Storage = Class.get('Storage');\n\n  const id = '6tMS79Kx6WhqTEwaC';\n  const storage = Storage.findOne(id);\n\n  // Update a document.\n  storage.one.string = 'cba'\n  storage.one.transient = 'transient'\n  storage.one.immutable = 'IMMUTABLE'\n  storage.many[0].string = 'cba';\n  storage.many[0].transient = 'transient';\n  storage.many[0].immutable = 'IMMUTABLE';\n  storage.numbers = [3, 2, 1];\n  storage.string = 'cba';\n  storage.number = 321;\n  storage.boolean = false;\n  storage.date = new Date(2001, 0, 1, 0, 0, 0, 0);\n  storage.transient = 'transient';\n  storage.immutable = 'IMMUTABLE';\n  storage.save();\n\n  const expected = {\n    '_id': id,\n    'one': {\n      'string': 'cba',\n      'immutable': 'immutable',\n    },\n    'many': [{\n      'string': 'cba',\n      'immutable': 'immutable',\n    }],\n    'numbers': [3, 2, 1],\n    'string': 'cba',\n    'number': 321,\n    'boolean': false,\n    'date': new Date(2001, 0, 1, 0, 0, 0, 0),\n    'immutable': 'immutable',\n  };\n  test.equal(Storage.findOne(id, {\n    transform: null,\n  }), expected,\n    'The document has not been updated properly'\n  );\n});\n"]},"hash":"e63e23991aa1b878236b7c82894c2cf68c384b43"}
